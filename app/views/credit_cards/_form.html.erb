<%= form_for([@user, @credit_card]) do |f| %>
  <% if @credit_card.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@credit_card.errors.count, "error") %> prohibited this credit_card from being saved:</h2>

      <ul>
      <% @credit_card.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div style="width:360px;margin-bottom: 30px;background: #fff;padding: 30px;margin-right:30px;">
    <div class="layout horizontal">
      <p style="font-size: 16px;color: #333;height: 20px;font-weight:500;margin-bottom:30px;"></p>
      <div class="layout horizontal center justified" style="width:100%;">
        <%= image_tag "discover.png", style: "height:27px;margin-right:4px;" %>
        <%= image_tag "mastercard.png", style: "height:27px;margin-right:4px;" %>
        <%= image_tag "visa.png", style: "height:27px;margin-right:4px;" %>
        <%= image_tag "americanexpress.png", style: "height:27px;" %>
      </div>
    </div>

    <%= hidden_field_tag :stripe_card_token %>

      <div>
        <div id="fn-container">
          <%= text_field_tag :first_name, nil, name: nil, placeholder: "First name" %>
        </div>

        <div id="ln-container">
          <%= text_field_tag :last_name, nil, name: nil, placeholder: "Last name" %>
        </div>
      </div>

      <%= text_field_tag :card_number, nil, name: nil, placeholder: "Credit Card Number" %>

      <%= text_field_tag :card_code, nil, name: nil, placeholder: "Security Code on Card (CVV)" %>

      <input type="text" id="card_code" value="Card Expiration:" disabled style="border:none;width:34%;float:left;padding-left:5px;">

      <div id="state-container" style="width:38%;">
        <%= select_month nil, {add_month_numbers: true}, {name: nil, id: "card_month", style: "height:34px;"} %>
      </div>

      <div id="state-container" style="margin-right:0;margin-left:2%;">
        <%= select_year nil, {start_year: Date.today.year, end_year: Date.today.year+15}, {name: nil, id: "card_year", style: "height:34px;"} %>
      </div>

    <div id="stripe_error">
      <noscript>JavaScript is not enabled and is required for this form. First enable it in your web browser settings.</noscript>
    </div>

    <div class="layout horizontal center-justified" style="margin-top:50px;">
      <div class="submit-container2">
        <%= f.submit %>
      </div>
    </div>
  </div>


<% end %>
